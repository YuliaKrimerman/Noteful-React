(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n(36)},25:function(e,t,n){},26:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(16),c=n.n(r),l=n(13),i=n(14),s=n(3),d=n(4),u=n(6),m=n(5),f=n(7),p=(n(25),n(26),n(37)),h=n(12);var E=function(e){var t=e.folders.map(function(e){return o.a.createElement(p.a,{to:"/folder/".concat(e.id),key:e.id},o.a.createElement("li",{key:e.id,className:"Folders"},e.folder_name))});return o.a.createElement("div",{id:"sidebar"},o.a.createElement("ul",null,t),o.a.createElement(h.a,{to:"/add-folder"},"Add Folder"))},b=(n(30),o.a.createContext({folders:[],notes:[],addFolder:function(){},addNote:function(){},deleteNote:function(){}})),v=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).filteredNotes=function(){return n.context.notes.filter(function(e){return e.folder_id===Number(n.props.match.params.folderId)}).map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(h.a,{to:"/note/".concat(e.id)},o.a.createElement("h2",null,e.note_name)),o.a.createElement(h.a,{to:"/note/".concat(e.id)},o.a.createElement("button",null,"Delete?")))})},n.notes=function(){return void 0===n.props.match.params.folderId?n.context.notes.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(h.a,{to:"/note/".concat(e.id)},o.a.createElement("h2",null,e.note_name)),o.a.createElement(h.a,{to:"/note/".concat(e.id)},o.a.createElement("button",null,"Delete?")))}):n.filteredNotes()},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return console.log(typeof this.props.match.params.folderId),console.log(this.context.notes.map(function(e){return typeof e.folder_id})),o.a.createElement("section",null,o.a.createElement("ul",{className:"list-container"},this.notes()),o.a.createElement(h.a,{to:"/add-note"},"Add Note"))}}]),t}(o.a.Component);v.contextType=b;var y=v,j=(n(31),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleClickCancel=function(){n.props.history.push("/")},n.submitNewNote=function(e){e.preventDefault();var t={note_name:e.target.name.value,folder_id:e.target.folder.value,content:e.target.description.value};console.log(t),fetch("https://sleepy-meadow-67516.herokuapp.com/api/notes",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(e){return e.ok?e.json():e.json().then(function(e){throw e})}).then(function(e){n.context.addNote(e),n.props.history.push("/folder/".concat(e.folder_id))}).catch(function(e){console.error({error:e})})},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.context.folders.map(function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.folder_name)});return o.a.createElement("form",{className:"add-note-form",onSubmit:this.submitNewNote},o.a.createElement("fieldset",null,o.a.createElement("legend",null,"Create a note"),o.a.createElement("div",{className:"field"},o.a.createElement("label",{htmlFor:"note-name-input"},o.a.createElement("p",null,"Name")),o.a.createElement("input",{type:"text",id:"note-name-input",name:"name",required:!0})),o.a.createElement("div",{className:"field"},o.a.createElement("label",{htmlFor:"note-content-input"},o.a.createElement("p",null,"Content")),o.a.createElement("textarea",{id:"note-content-input",name:"description",required:!0})),o.a.createElement("p",null,"Store in folder:"),o.a.createElement("select",{name:"folder"},e),o.a.createElement("button",{type:"submit"},"Add note")," ",o.a.createElement("button",{type:"submit",onClick:this.handleClickCancel},"Cancel")))}}]),t}(o.a.Component));j.contextType=b;var N=j,O=(n(32),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleClickCancel=function(){n.props.history.push("/")},n.submitNewFolder=function(e){e.preventDefault();var t={folder_name:e.target.folder.value};console.log(t),fetch("https://sleepy-meadow-67516.herokuapp.com/api/folders",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(e){return e.ok?e.json():e.json().then(function(e){throw e})}).then(function(e){n.context.addFolder(e),n.props.history.push("/folder/".concat(e.id))}).catch(function(e){console.error({error:e})})},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("form",{className:"AddFolder",onSubmit:this.submitNewFolder},o.a.createElement("h2",null,"Create a folder"),o.a.createElement("div",{className:"field"},o.a.createElement("label",{htmlFor:"folder-name-input"},"Folder Name:")," ",o.a.createElement("input",{type:"text",id:"folder-name-input",name:"folder",required:!0})),o.a.createElement("div",{className:"buttons"},o.a.createElement("button",{type:"submit"},"Add folder")," ",o.a.createElement("button",{type:"submit",onClick:this.handleClickCancel},"Cancel")))}}]),t}(o.a.Component));O.contextType=b;var k=O;n(33);var C=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.context.notes.find(function(t){return t.id===Number(e.props.match.params.noteId)}),n=new Date(t.date_created);return console.log(t.id),o.a.createElement("section",{className:"note-content"},o.a.createElement("h2",null,t.note_name),o.a.createElement("p",null,t.content),o.a.createElement("p",null,n.toDateString()),o.a.createElement("button",{type:"button",onClick:function(){return n=t.id,a=e.context.deleteNote,o=e.props.history.push("/"),void fetch("https://sleepy-meadow-67516.herokuapp.com/api/notes/".concat(n),{method:"DELETE",headers:{"content-type":"application/json"}}).then(function(e){return e.ok?e:e.json().then(function(e){return Promise.reject(e)})}).then(function(){a(n),o()}).catch(function(e){console.error({error:e})});var n,a,o}},"Delete Note"))}}]),t}(o.a.Component);C.contextType=b;n(34);var g=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleBackCancel=function(){n.props.history.goBack()},n.findFolderName=n.context.notes.find(function(e){return e.id===Number(n.props.match.params.noteId)}),n.folderName=n.context.folders.find(function(e){return e.id===n.findFolderName.folder_id}),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return console.log(this.context.notes),console.log(this.findFolderName),console.log(this.folderName),o.a.createElement("div",{className:"sidebar-note"},o.a.createElement("button",{onClick:this.handleBackCancel},"Go back"),o.a.createElement("p",null,this.folderName.folder_name))}}]),t}(o.a.Component);g.contextType=b;o.a.Component;var x=n(18),w=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={folders:[],notes:[]},n.addFolder=function(e){n.setState({folders:[].concat(Object(i.a)(n.state.folders),[e])})},n.addNote=function(e){n.setState({notes:[].concat(Object(i.a)(n.state.notes),[e])})},n.deleteNote=function(e){n.setState({notes:n.state.notes.filter(function(t){return t.id!==e})})},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all([fetch("http://localhost:8000/api/notes/"),fetch("http://localhost:8000/api/folders/")]).then(function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return n.ok?a.ok?Promise.all([n.json(),a.json()]):a.json().then(function(e){return Promise.reject(e)}):n.json().then(function(e){return Promise.reject(e)})}).then(function(t){var n=Object(l.a)(t,2),a=n[0],o=n[1];e.setState({notes:a,folders:o})}).catch(function(e){console.error({error:e})})}},{key:"render",value:function(){var e=this;console.log(this.state.notes.map(function(e){return e.id}));var t={folders:this.state.folders,notes:this.state.notes,addFolder:this.addFolder,addNote:this.addNote,deleteNote:this.deleteNote};return o.a.createElement(b.Provider,{value:t},o.a.createElement("div",{className:"App"},o.a.createElement("header",null,o.a.createElement("h1",null,o.a.createElement(h.a,{to:"/"},"Noteful"))),o.a.createElement(x.a,{exact:!0,path:"/",render:function(){return o.a.createElement(E,{folders:e.state.folders})}}),o.a.createElement(x.a,{path:"/folder",render:function(){return o.a.createElement(E,{folders:e.state.folders})}}),o.a.createElement(x.a,{path:"/note/:noteId",component:g}),o.a.createElement("main",{className:"App"},o.a.createElement(x.a,{exact:!0,path:"/",component:y}),o.a.createElement(x.a,{path:"/folder/:folderId",component:y}),o.a.createElement(x.a,{path:"/note/:noteId",component:C}),o.a.createElement(x.a,{path:"/add-note",component:N}),o.a.createElement(x.a,{path:"/add-folder",component:k}))))}}]),t}(o.a.Component),F=(n(35),n(38));c.a.render(o.a.createElement(F.a,null,o.a.createElement(w,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.1c2d7b7e.chunk.js.map